<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>nul1.org - Archive</title>
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="author" content="Codrops" />
    <link rel="shortcut icon" href="https://tympanus.net/favicon/favicon.ico" />
    <link rel="stylesheet" type="text/css" href="css/base.css" />
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <script>
      document.documentElement.className = 'js';

      // Load Shopify products and render them
      async function loadShopifyProducts() {
        try {
          const collectionHandles = ['nul1-org', 'nul1org', 'nul1.org'];
          let products = null;

          for (const handle of collectionHandles) {
            const response = await fetch(`/api/products?collection=${handle}`);
            const data = await response.json();

            if (data && data.length > 0) {
              products = data;
              console.log(`Found ${data.length} products in collection: ${handle}`);
              break;
            }
          }

          if (!products || products.length === 0) {
            console.warn('No products found, using default layout');
            window.shopifyProductsLoaded = true;
            return;
          }

          // Wait for DOM to be ready
          if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => renderProducts(products));
          } else {
            renderProducts(products);
          }
        } catch (error) {
          console.error('Error loading products:', error);
          window.shopifyProductsLoaded = true;
        }
      }

      function renderProducts(products) {
        const numColumns = 10;
        const columns = Array.from({ length: numColumns }, () => []);

        // Distribute products across columns
        products.forEach((product, index) => {
          const columnIndex = index % numColumns;
          const productId = index + 1;
          columns[columnIndex].push({ ...product, productId });
        });

        // Render grid
        const grid = document.querySelector('.grid');
        if (grid) {
          grid.innerHTML = columns.map((columnProducts) => {
            const productsHTML = columnProducts.map((product) => {
              const image = product.node.images.edges[0]?.node;
              const imageUrl = image?.url || './public/img-1.png';

              return `
                <div class="product">
                  <div data-id="${product.productId}">
                    <img src="${imageUrl}" alt="${escapeHtml(product.node.title)}" />
                  </div>
                </div>
              `;
            }).join('');

            return `<div class="column">${productsHTML}</div>`;
          }).join('');
        }

        // Render titles
        const titlesContainer = document.querySelector('.details__title');
        if (titlesContainer) {
          titlesContainer.innerHTML = products.map((product, index) => {
            const productId = index + 1;
            return `<p data-title="${productId}" data-text>${escapeHtml(product.node.title)}</p>`;
          }).join('');
        }

        // Render details
        const detailsContainer = document.querySelector('.details__texts');
        if (detailsContainer) {
          detailsContainer.innerHTML = products.map((product, index) => {
            const productId = index + 1;
            const price = parseFloat(product.node.priceRange.minVariantPrice.amount);
            const currency = product.node.priceRange.minVariantPrice.currencyCode;
            const description = formatDescription(product.node.description || 'No description available');
            const priceSymbol = currency === 'USD' ? '$' : currency;

            return `
              <p data-desc="${productId}" data-text>
                <span>${priceSymbol}${price.toFixed(2)}</span>
                ${escapeHtml(description)}
                <button>Add to cart</button>
              </p>
            `;
          }).join('');
        }

        // Trigger re-initialization of the Grid
        window.shopifyProductsLoaded = true;
      }

      function formatDescription(text) {
        let formatted = text.replace(/([a-z])([A-Z])/g, '$1 $2');
        const keywords = ['Category', 'Material', 'Fabric', 'Color', 'Features', 'Size', 'Made'];
        keywords.forEach(keyword => {
          formatted = formatted.replace(new RegExp(keyword, 'g'), ' ' + keyword);
        });
        formatted = formatted.replace(/\s+/g, ' ').trim();
        if (formatted.length > 350) {
          formatted = formatted.substring(0, 350) + '...';
        }
        return formatted;
      }

      function escapeHtml(text) {
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
      }

      // Start loading products
      loadShopifyProducts();
    </script>
    <script src="//tympanus.net/codrops/adpacks/analytics.js"></script>
  </head>

  <body class="loading">
    <main>
      <div class="container">
        <div class="grid">
          <div class="column">
            <div class="product">
              <div data-id="3"><img src="./public/img-3.png" /></div>
            </div>
            <div class="product">
              <div data-id="7"><img src="./public/img-7.png" /></div>
            </div>
            <div class="product">
              <div data-id="1"><img src="./public/img-1.png" /></div>
            </div>
            <div class="product">
              <div data-id="5"><img src="./public/img-5.png" /></div>
            </div>
            <div class="product">
              <div data-id="2"><img src="./public/img-2.png" /></div>
            </div>
          </div>
          <div class="column">
            <div class="product">
              <div data-id="4"><img src="./public/img-4.png" /></div>
            </div>
            <div class="product">
              <div data-id="6"><img src="./public/img-6.png" /></div>
            </div>
            <div class="product">
              <div data-id="3"><img src="./public/img-3.png" /></div>
            </div>
            <div class="product">
              <div data-id="7"><img src="./public/img-7.png" /></div>
            </div>
            <div class="product">
              <div data-id="1"><img src="./public/img-1.png" /></div>
            </div>
          </div>
          <div class="column">
            <div class="product">
              <div data-id="5"><img src="./public/img-5.png" /></div>
            </div>
            <div class="product">
              <div data-id="2"><img src="./public/img-2.png" /></div>
            </div>
            <div class="product">
              <div data-id="4"><img src="./public/img-4.png" /></div>
            </div>
            <div class="product">
              <div data-id="6"><img src="./public/img-6.png" /></div>
            </div>
            <div class="product">
              <div data-id="1"><img src="./public/img-1.png" /></div>
            </div>
          </div>
          <div class="column">
            <div class="product">
              <div data-id="3"><img src="./public/img-3.png" /></div>
            </div>
            <div class="product">
              <div data-id="5"><img src="./public/img-5.png" /></div>
            </div>
            <div class="product">
              <div data-id="1"><img src="./public/img-1.png" /></div>
            </div>
            <div class="product">
              <div data-id="6"><img src="./public/img-6.png" /></div>
            </div>
            <div class="product">
              <div data-id="2"><img src="./public/img-2.png" /></div>
            </div>
          </div>
          <div class="column">
            <div class="product">
              <div data-id="4"><img src="./public/img-4.png" /></div>
            </div>
            <div class="product">
              <div data-id="6"><img src="./public/img-6.png" /></div>
            </div>
            <div class="product">
              <div data-id="3"><img src="./public/img-3.png" /></div>
            </div>
            <div class="product">
              <div data-id="5"><img src="./public/img-5.png" /></div>
            </div>
            <div class="product">
              <div data-id="1"><img src="./public/img-1.png" /></div>
            </div>
          </div>
          <div class="column">
            <div class="product">
              <div data-id="5"><img src="./public/img-5.png" /></div>
            </div>
            <div class="product">
              <div data-id="6"><img src="./public/img-6.png" /></div>
            </div>
            <div class="product">
              <div data-id="2"><img src="./public/img-2.png" /></div>
            </div>
            <div class="product">
              <div data-id="1"><img src="./public/img-1.png" /></div>
            </div>
            <div class="product">
              <div data-id="4"><img src="./public/img-4.png" /></div>
            </div>
          </div>
          <div class="column">
            <div class="product">
              <div data-id="3"><img src="./public/img-3.png" /></div>
            </div>
            <div class="product">
              <div data-id="4"><img src="./public/img-4.png" /></div>
            </div>
            <div class="product">
              <div data-id="1"><img src="./public/img-1.png" /></div>
            </div>
            <div class="product">
              <div data-id="2"><img src="./public/img-2.png" /></div>
            </div>
            <div class="product">
              <div data-id="6"><img src="./public/img-6.png" /></div>
            </div>
          </div>
          <div class="column">
            <div class="product">
              <div data-id="5"><img src="./public/img-5.png" /></div>
            </div>
            <div class="product">
              <div data-id="2"><img src="./public/img-2.png" /></div>
            </div>
            <div class="product">
              <div data-id="4"><img src="./public/img-4.png" /></div>
            </div>
            <div class="product">
              <div data-id="6"><img src="./public/img-6.png" /></div>
            </div>
            <div class="product">
              <div data-id="1"><img src="./public/img-1.png" /></div>
            </div>
          </div>
          <div class="column">
            <div class="product">
              <div data-id="3"><img src="./public/img-3.png" /></div>
            </div>
            <div class="product">
              <div data-id="5"><img src="./public/img-5.png" /></div>
            </div>
            <div class="product">
              <div data-id="1"><img src="./public/img-1.png" /></div>
            </div>
            <div class="product">
              <div data-id="6"><img src="./public/img-6.png" /></div>
            </div>
            <div class="product">
              <div data-id="2"><img src="./public/img-2.png" /></div>
            </div>
          </div>
          <div class="column">
            <div class="product">
              <div data-id="4"><img src="./public/img-4.png" /></div>
            </div>
            <div class="product">
              <div data-id="6"><img src="./public/img-6.png" /></div>
            </div>
            <div class="product">
              <div data-id="3"><img src="./public/img-3.png" /></div>
            </div>
            <div class="product">
              <div data-id="5"><img src="./public/img-5.png" /></div>
            </div>
            <div class="product">
              <div data-id="1"><img src="./public/img-1.png" /></div>
            </div>
          </div>
        </div>
      </div>

      <div class="details">
        <div class="details__title">
          <p data-title="1" data-text>Crimson Amphora</p>
          <p data-title="2" data-text>Rustic Urn</p>
          <p data-title="3" data-text>Golden Vessel</p>
          <p data-title="4" data-text>Sunlit Amphora</p>
          <p data-title="5" data-text>Midnight Reliquary</p>
          <p data-title="6" data-text>Amber Ewer</p>
          <p data-title="7" data-text>Sylvan Chalice</p>
        </div>
        <div class="details__body">
          <div class="details__thumb"></div>
          <div class="details__texts">
            <p data-desc="1" data-text>
              <span>$300,00</span>
              This bold red vase stands out with its vibrant hue, a perfect centerpiece to add passion and energy to any
              room. Its smooth surface and classic silhouette make it versatile, equally suited for modern interiors or
              traditional spaces, bringing warmth and a touch of drama wherever it is placed.
              <button>Add to cart</button>
            </p>
            <p data-desc="2" data-text>
              <span>$220,00</span>
              With its earthy tones and natural speckled finish, this rustic vase evokes the charm of handcrafted
              pottery. Its organic look and timeless shape give a sense of authenticity, making it an ideal piece to
              display dried flowers or simply as a decorative object that adds warmth and artisanal beauty to your home.
              <button>Add to cart</button>
            </p>
            <p data-desc="3" data-text>
              <span>$240,00</span>
              Bright and cheerful, the yellow vase radiates positivity. Its glossy surface reflects light beautifully,
              creating a lively focal point in any setting. Perfect for fresh blooms or displayed on its own, this vase
              captures the essence of sunshine and joy, effortlessly transforming spaces with a vibrant, uplifting touch
              of color.
              <button>Add to cart</button>
            </p>
            <p data-desc="4" data-text>
              <span>$300,00</span>
              Generous in size and striking in presence, the large yellow vase makes a bold decorative statement. Its
              smooth curves and sunny shade are perfect for standing on the floor or dressing up a wide console. Both
              functional and eye-catching, it brings vitality and a contemporary edge to your interior design.
              <button>Add to cart</button>
            </p>
            <p data-desc="5" data-text>
              <span>$390,00</span>
              Sleek and sophisticated, the black vase embodies timeless elegance. Its deep, rich tone makes it
              versatile, pairing effortlessly with minimalist or luxurious décors. Whether holding fresh greenery or
              standing alone as a sculptural accent, this piece exudes modern refinement and bold simplicity, creating
              contrast and balance within any interior style.
              <button>Add to cart</button>
            </p>
            <p data-desc="6" data-text>
              <span>$340,00</span>
              A playful mix of texture and color, the speckled yellow vase is both lively and unique. Its dotted surface
              creates movement and character, while the bright golden base ensures it remains eye-catching. Perfect for
              adding personality to your shelf or table, it combines artistic charm with a cheerful, inviting presence.
              <button>Add to cart</button>
            </p>
            <p data-desc="7" data-text>
              <span>$240,00</span>
              Crafted from natural wood, this vase celebrates organic beauty and timeless simplicity. The warm tones and
              smooth grain bring an earthy elegance to interiors. Perfect for dried arrangements or as a stand-alone
              piece, it highlights craftsmanship and natural textures, making it a versatile addition to rustic, modern,
              or eclectic décors.
              <button>Add to cart</button>
            </p>
          </div>
        </div>
      </div>

      <div class="cross">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M18 6L6 18" stroke="#313131" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
          <path d="M6 6L18 18" stroke="#313131" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
      </div>

      <script src="./js/gsap.js"></script>
      <script src="./js/Draggable.js"></script>
      <script src="./js/Flip.js"></script>
      <script src="./js/SplitText.js"></script>
      <script src="./js/imagesloaded.pkgd.min.js"></script>
      <script type="module" src="./js/app.js"></script>
      <script src="https://tympanus.net/codrops/adpacks/cda_sponsor.js"></script>
    </main>
  </body>
</html>
